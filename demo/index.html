<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../../t-shared-components/theme.html">

    <link rel="import" href="../t-filter.html" />
    <link rel="import" href="../../iron-ajax/iron-ajax.html" />
    <script src="custom-filter.js"></script>
</head>

<body>
    <div class="demo-canvas">
    </div>
    <t-filter  ></t-filter>
    <iron-ajax  id="call" url="custom-filter.json" headers='{"accept": "application/json"}' content-type="application/json" handle-as="json">
    </iron-ajax>

    <script type="text/javascript">
     window.addEventListener('WebComponentsReady', function(e) { 
        var filterComp = document.querySelector('t-filter'),
        ajax = document.querySelector('#call');

        document.querySelector('iron-ajax').addEventListener('response', function(args) {
            filterComp.data = args.detail.response.filters;
        });

        ajax.generateRequest();

        filterComp.customFiltersHash.push(textFilter);

    });
    </script>

</body>
